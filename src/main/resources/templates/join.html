<!DOCTYPE html>
<html lang="en" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Inscription</title>

    <link rel="stylesheet" type="text/css" th:href="@{/css/style-login-inscription.css}"/>
    <!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon-->
    <link rel="shortcut icon" href="../static/css/fitness/img/fav.png" th:href="@{/css/fitness/img/fav.png}">
    <!-- Author Meta -->
    <meta name="author" content="colorlib">
    <!-- Meta Description -->
    <meta name="description" content="">
    <!-- Meta Keyword -->
    <meta name="keywords" content="">
    <!-- meta character set -->
    <meta charset="UTF-8">
    <!-- Site Title -->
    <title>Sign In</title>

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
    <!--
    CSS
    ============================================= -->
    <link rel="stylesheet" href="../static/css/fitness/css/linearicons.css"
          th:href="@{/css/fitness/css/linearicons.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/font-awesome.min.css"
          th:href="@{/css/fitness/css/font-awesome.min.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/bootstrap.css" th:href="@{/css/fitness/css/bootstrap.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/magnific-popup.css"
          th:href="@{/css/fitness/css/magnific-popup.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/nice-select.css"
          th:href="@{/css/fitness/css/unregister-to-session.html}">
    <link rel="stylesheet" href="../static/css/fitness/css/animate.min.css"
          th:href="@{/css/fitness/css/animate.min.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/owl.carousel.css"
          th:href="@{/css/fitness/css/owl.carousel.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/jquery-ui.css" th:href="@{/css/fitness/css/jquery-ui.css}">
    <link rel="stylesheet" href="../static/css/fitness/css/main.css" th:href="@{/css/fitness/css/main.css}">
</head>
<body style="margin-top: 5em;">
<div th:replace="fragments/header-not-connected :: header"></div>
<div style="margin:auto;   margin-bottom: 5%; width: 50%;">
<form method="post" id="submit-form" action="/join" >

    <h1> Inscription</h1>
    <p class="text-danger" th:if="${errorLastname == true}">Le nom ne doit comporter que des lettre de l'alphabet</p>
    <p class="text-danger" th:if="${errorFirstname == true}">Le prénom ne doit comporter que des lettre de
        l'alphabet</p>
    <p class="text-danger" th:if="${errorEmail == true}">L'email doit être au format example@example.com</p>
    <p class="text-danger" th:if="${errorPassword == true}">Les mots de passe ne sont pas identiques</p>
    <p class="text-danger" th:if="${error == true}">Un utilisateur avec cette addresse mail existe déjà veuillez
        réessayer</p>

    <label for="lastname"><b>Nom</b></label>
    <input type="text" placeholder="Entrez votre nom" id="lastname" name="lastname" required>

    <label for="firstname"><b>Prénom</b></label>
    <input type="text" placeholder="Entrez votre prénom" id="firstname" name="firstname" required>

    <label for="gender"><b>Sexe</b></label>
    <select name="gender" id="gender">
        <option value="1">Homme</option>
        <option value="0">Femme</option>
    </select>

    <label for="date" style="margin-top: 2%;"><b>Date de Naissance</b></label>
    <input type="date" name="date" id="date" required placeholder="Date of Birth">

    <!--<div>
        <input type="text" name="input" placeholder="YYYY-MM-DD" required
               pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
               title="Enter a date in this format YYYY-MM-DD"/>
    </div>-->

    <label for="email"><b>Adresse mail</b></label>
    <input type="email" placeholder="Adresse mail" id="email" name="email" required>

    <label for="password"><b>Mot de passe</b></label><br/>
    <input type="password" placeholder="Mot de passe" id="password" name="password" minlength="5" required>

    <label for="confirm_password"><b>Confirmation du mot de passe</b></label>
    <input type="password" placeholder="Confirmer mot de passe" id="confirm_password" name="confirm_password"
           minlength="5" required>


    <!--<button type="reset" style="margin-top: 2%;" class="btn-danger">Vider</button>-->

</form>


<button class="btn-primary" type="submit" id="submit">Valider</button>
<a href="/login">Vous avez déjà un compte ? connectez vous</a>
</div>

<script>
    var submit = document.getElementById("submit");
    var form = document.getElementById("submit-form");
    submit.addEventListener("click", submit_clicked);
    function submit_clicked() {

        var form = document.getElementById("submit-form");
        var check = true;
        if (!(/^[a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+([-'\s][a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+)?$/.test(document.getElementById("lastname").value))) {
            alert("Le nom ne doit comporter que des lettre de l'alphabet");
            //document.getElementById("checkLastname").value = false;
        } else if (!(/^[a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+([-'\s][a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+)?$/.test(document.getElementById("firstname").value))) {
            alert("Le prénom ne doit comporter que des lettre de l'alphabet");
            //document.getElementById("checkFirstname").value = false;
        } else if (!(/^[^\W][a-zA-Z0-9_\-]+(\.[a-zA-Z0-9_\-]+)*\@[a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\.[a-zA-Z]{2,4}$/.test(document.getElementById("email").value))) {
            alert("L'email doit être au format example@example.com");
            //document.getElementById("checkEmail").value = false;
        }else if (document.getElementById("date").value===document.getElementById("date").defaultValue){
            alert("Veuillez entrer votre date de naissance");
        }else if ((document.getElementById("password").value ==="") || document.getElementById("confirm_password").value===""){
            alert("Veuillez remplir le mot de passe et la confirmation");
        } else if (!(document.getElementById("password").value === document.getElementById("confirm_password").value)) {
            alert("Les mots de passe ne sont pas identiques.");
        } else if(document.getElementById("password").value.length < 5){
            alert("Le mots de passe devrait contenir au moin 5 caracteres");
        }else {
            form.submit();
        }
    }
</script>

<script src="../static/css/fitness/js/vendor/jquery-2.2.4.min.js" th:src="@{/css/fitness/js/vendor/jquery-2.2.4.min.js}" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="../static/css/fitness/js/vendor/bootstrap.min.js" th:src="@{/css/fitness/js/vendor/bootstrap.min.js}"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>
<script src="../static/css/fitness/js/easing.min.js" th:src="@{/css/fitness/js/easing.min.js}"></script>
<script src="../static/css/fitness/js/hoverIntent.js" th:src="@{/css/fitness/js/hoverIntent.js}"></script>
<script src="../static/css/fitness/js/superfish.min.js" th:src="@{/css/fitness/js/superfish.min.js}"></script>
<script src="../static/css/fitness/js/jquery.ajaxchimp.min.js" th:src="@{/css/fitness/js/jquery.ajaxchimp.min.js}"></script>
<script src="../static/css/fitness/js/jquery.magnific-popup.min.js" th:src="@{/css/fitness/js/jquery.magnific-popup.min.js}"></script>
<script src="../static/css/fitness/js/jquery-ui.js" th:src="@{/css/fitness/js/jquery-ui.js}"></script>
<script src="../static/css/fitness/js/jquery.nice-select.min.js" th:src="@{/css/fitness/js/jquery.nice-select.min.js}"></script>
<script src="../static/css/fitness/js/owl.carousel.min.js" th:src="@{/css/fitness/js/owl.carousel.min.js}"></script>
<script src="../static/css/fitness/js/mail-script.js" th:src="@{/css/fitness/js/mail-script.js}"></script>
<script src="../static/css/fitness/js/main.js" th:src="@{/css/fitness/js/main.js}"></script>
</body>
</html>